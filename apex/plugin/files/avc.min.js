var $jscomp={scope:{},findInternal:function(a,c,d){a instanceof String&&(a=String(a));for(var b=a.length,e=0;e<b;e++){var f=a[e];if(c.call(d,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,d,b){if(c){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in d||(d[e]={});d=d[e]}a=a[a.length-1];b=d[a];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
var avc={gAvcSocket:null,gAjaxIdentifier:null,connectWebsocket:function(a,c,d,b){var e=$v("pInstance");c="username="+d.toLowerCase()+"&serverKey="+c+"&userAccessToken="+b+"&apexSessionId="+e;apex.debug.log("avc.connectWebsocket - connectString",c);avc.gAvcSocket=io.connect(a+"/avc",{query:c})},handleWebsocket:function(a){var c="",d=$v("pInstance");avc.gAvcSocket.on("message",function(b){apex.debug.log("avc.handleWebsocket - message data",b);apex.event.trigger("body","avc-websocket-message");if("NAV_TO_PAGE"==
b.type&&b.pageId)c="f?p="+$v("pFlowId")+":"+b.pageId+":"+d+":::::",avc.getProperUrl(c,a,function(a){apex.navigation.redirect(a)});else if("NAV_TO_PAGE_SEARCH"==b.type&&b.pageId)c="f?p="+$v("pFlowId")+":"+b.pageId+":"+d+":::"+b.searchParam+b.searchValue,avc.getProperUrl(c,a,function(a){apex.navigation.redirect(a)});else if("CURRENT_PAGE_SEARCH"==b.type&&b.pages)for(var e=b.pages,f=0;f<e.length;f++){if(e[f].pageId==parseInt($v("pFlowStepId"))){var k=e[f].searchField;$("#"+k).val(b.searchValue);$("#"+
k).parents(".a-IRR-search").find(".a-IRR-button--search").click()}}else"PARTY_MODE"==b.type&&avc.partyMode()});avc.gAvcSocket.on("disconnect",function(){apex.debug.log("avc.handleWebsocket - websocket disconnected");apex.event.trigger("body","avc-websocket-disconnect")})},getProperUrl:function(a,c,d){"Y"==c?apex.server.plugin(avc.gAjaxIdentifier,{x01:a},{dataType:"json",success:function(b){apex.debug.log("avc.getProperUrl - AJAX success",b);b.success?d(b.url):d(a)},error:function(b,c){apex.debug.log("avc.getProperUrl - AJAX error",
c);d(a)}}):d(a)},partyMode:function(){(function(){function a(){var a=document.createElement("div");a.setAttribute("class",u);document.body.appendChild(a);setTimeout(function(){document.body.removeChild(a)},100)}function c(a){return{height:a.offsetHeight,width:a.offsetWidth}}function d(a){a=c(a);return a.height>k&&a.height<v&&a.width>t&&a.width<w}function b(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return b}function e(a){a=b(a);return a>=q&&a<=x+q}function f(){for(var a=document.getElementsByClassName(l),
b=new RegExp("\\b"+l+"\\b");0<a.length;)a[0].className=a[0].className.replace(b,"")}var k=30,t=30,v=350,w=350,l="mw-harlem_shake_me",r=["im_drunk","im_baked","im_trippin","im_blown"],u="mw-strobe_light",x=function(){var a=document.documentElement;return window.innerWidth?window.innerHeight:a&&!isNaN(a.clientHeight)?a.clientHeight:0}(),q;q=window.pageYOffset?window.pageYOffset:Math.max(document.documentElement.scrollTop,document.body.scrollTop);for(var m=document.getElementsByTagName("*"),n=null,h=
0;h<m.length;h++){var g=m[h];if(d(g)&&e(g)){n=g;break}}if(null===n)console.warn("Could not find a node of the right size. Please try a different page.");else{console.log("Found start element: ",g," with width "+c(g).width+", height "+c(g).height+", and a total Y offset of "+b(g));(function(){var a=document.createElement("link");a.setAttribute("type","text/css");a.setAttribute("rel","stylesheet");a.setAttribute("href","//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css");a.setAttribute("class",
"mw_added_css");document.body.appendChild(a)})();(function(){var b=document.createElement("audio");b.setAttribute("class","mw_added_css");b.src="//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3";b.loop=!1;b.innerHTML=" <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p>";document.body.appendChild(b);b.addEventListener("ended",function(){f();for(var a=document.getElementsByClassName("mw_added_css"),
b=0;b<a.length;b++)document.body.removeChild(a[b])},!0);b.addEventListener("canplay",function(){setTimeout(function(){n.className+=" "+l+" im_first"},500);setTimeout(function(){f();a();for(var b=0;b<p.length;b++)p[b].className+=" "+l+" "+r[Math.floor(Math.random()*r.length)]},15500)},!0);b.play()})();for(var p=[],h=0;h<m.length;h++)g=m[h],d(g)&&p.push(g)}})()},pluginHandler:function(){var a=avc.gAjaxIdentifier=this.action.ajaxIdentifier,c=this.action.attribute01,d=this.action.attribute02,b=this.action.attribute03,
e=this.action.attribute04,f=this.action.attribute05;apex.debug.log("avc.pluginHandler - ajaxIdentifier",a);apex.debug.log("avc.pluginHandler - baseUrl",c);apex.debug.log("avc.pluginHandler - serverKey",d);apex.debug.log("avc.pluginHandler - username",b);apex.debug.log("avc.pluginHandler - userAccessToken",e);apex.debug.log("avc.pluginHandler - allowSSPUrl",f);avc.connectWebsocket(c,d,b,e);avc.handleWebsocket(f)}};
